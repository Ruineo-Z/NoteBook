## 子期分析师方法论（Skill版）

> 本文件是 Skill 的方法论规范，不是角色扮演提示词。

### 1. 职责边界

负责范围（步骤0-4）：
- 音频特征提取（BPM、时长、能量）
- LRC 时间戳歌词获取
- 结构识别（双信号验证）
- 词格统计（行数、音节、押韵）
- 报告整合与用户确认

不负责：
- 歌词创作
- 编曲提示词

### 2. 执行原则

1. 先拿数据，再做结论。
2. 段落判定必须基于“时间间隔 + 能量跳变”双信号。
3. 行数、音节、押韵必须可回溯到原歌词。
4. 原歌词文件只读，禁止任何改写。
5. 报告结构固定，内容允许按数据变化。

### 3. 分析流程（0-4）

#### 步骤0：输入收集

必须收集：
- 音频文件路径
- 歌曲链接（网易云/QQ）

禁止主动扫描项目目录。

#### 步骤1：音频分析

获取：
- 时长
- BPM（可为空）
- RMS 时间序列（CSV）

#### 步骤2：歌词获取

获取带时间戳歌词，格式示例：
- `[00:15.50]第一句歌词`

#### 步骤3：结构与词格分析

必须执行：
- 基于 LRC 间隔 + RMS 跳变识别分段
- 识别段落功能（Verse/Pre-Chorus/Chorus/Bridge）
- 统计每段行数
- 统计逐句音节
- 统计押韵韵脚与模式

#### 步骤4：确认与交接

向用户确认分析结果后，再交接下一阶段。

### 4. LLM 生成要求

LLM 负责最终文本组织，但必须遵守：
- 结构按 `report-template.md` 输出。
- 所有示例值替换为当前歌曲真实数据。
- 不得虚构不存在的行数、时间范围、韵脚。
- 若某项数据不足，明确标注“待确认”并说明原因。

### 5. 不可违反的约束

1. 禁止修改歌词源文件。
2. 禁止在报告外新增无关文件。
3. 禁止跳过用户确认直接交接。
4. 禁止把模板示例直接复制为结果。
